<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profile Ready - Edit Photo</title>
  <!-- Include main site styles -->
  <link rel="stylesheet" href="style.css">
  <!-- Include Cropper.js styles for cropping functionality -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css">
</head>
<body>
  <!-- Navigation bar -->
  <header class="navbar">
    <div class="logo">P <span>Profile Ready</span></div>
    <nav>
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="login.html" class="btn-nav">Login</a>
    </nav>
  </header>

  <!-- Main settings section -->
  <main class="settings-section">
    <div class="settings-box">
      <h2>Edit Your Photo</h2>
      <!-- Container for editing area and controls -->
      <div class="settings-container">
        <!-- Editing area: shows the preview and uniform overlay -->
        <div class="editing-area">
          <div class="preview-layer">
            <!-- Base photo preview loaded from Firestore -->
            <img id="photoPreview" class="preview-photo" src="" alt="Photo Preview">
            <!-- Uniform overlay image. Hidden until a uniform is selected -->
            <img id="uniformOverlay" class="uniform-overlay" src="" alt="Uniform Overlay">
          </div>
          <!-- Uniform selection thumbnails -->
          <div class="uniform-selection">
            <!-- Each image has a data-uniform attribute that matches the uniform code -->
            <img src="images/uniforms/womensuit.png" data-uniform="womensuit" alt="Women's Suit">
            <img src="images/uniforms/mansuit.png" data-uniform="mansuit" alt="Men's Suit">
            <img src="images/uniforms/boy's-school-uniform.png" data-uniform="boys-school-uniform" alt="Boy's School Uniform">
            <img src="images/uniforms/girl's-school-uniform.png" data-uniform="girls-school-uniform" alt="Girl's School Uniform">
            <img src="images/uniforms/men's-university-uniform.png" data-uniform="mens-university-uniform" alt="Men's University Uniform">
            <img src="images/uniforms/women's-university-uniform.png" data-uniform="womens-university-uniform" alt="Women's University Uniform">
          </div>
        </div>
        <!-- Controls area: contains all adjustment sliders and buttons -->
        <div class="controls-area">
          <!-- Hidden select used to store the chosen uniform value for submission -->
          <input type="hidden" id="uniform" value="">
          <!-- Output size selection -->
          <div class="control-group">
            <label for="size">Output Size</label>
            <select id="size">
              <!-- The values correspond to WIDTHxHEIGHT used by the server. Adjust or add options as needed. -->
              <option value="1000x1000">1" x 1"</option>
              <option value="750x975">1" x 1.3"</option>
              <option value="900x1200">1.2" x 1.6"</option>
              <option value="1200x1500">1.5" x 2"</option>
              <option value="1524x1905">2" x 2.5"</option>
              <option value="600x600" selected>600 x 600 (US visa)</option>
              <option value="390x567">390 x 567 (Thai passport)</option>
              <option value="450x600">450 x 600</option>
            </select>
          </div>
          <!-- Background colour selection -->
          <div class="control-group">
            <label for="bgcolor">Background Colour</label>
            <select id="bgcolor">
              <option value="#FFFFFF" selected>White</option>
              <option value="#F3F4F6">Off White</option>
              <option value="#D1D5DB">Light Gray</option>
              <option value="#EFF6FF">Light Blue</option>
              <option value="#0F172A">Dark Navy</option>
            </select>
          </div>
          <!-- Uniform adjustment controls (shown when a uniform is selected) -->
          <div class="uniform-controls hidden">
            <h3>Uniform Adjustments</h3>
            <div class="control-group">
              <label for="uniformScaleX">Width (%)</label>
              <input id="uniformScaleX" type="range" min="50" max="200" step="1" value="100">
              <input id="uniformScaleXNumber" type="number" min="50" max="200" step="1" value="100" class="slider-number">
            </div>
            <div class="control-group">
              <label for="uniformScaleY">Height (%)</label>
              <input id="uniformScaleY" type="range" min="50" max="200" step="1" value="100">
              <input id="uniformScaleYNumber" type="number" min="50" max="200" step="1" value="100" class="slider-number">
            </div>
            <div class="control-group">
              <label for="uniformOffsetX">Horizontal Offset (%)</label>
              <input id="uniformOffsetX" type="range" min="-50" max="50" step="1" value="0">
              <input id="uniformOffsetXNumber" type="number" min="-50" max="50" step="1" value="0" class="slider-number">
            </div>
            <div class="control-group">
              <label for="uniformOffsetY">Vertical Offset (%)</label>
              <input id="uniformOffsetY" type="range" min="-50" max="50" step="1" value="0">
              <input id="uniformOffsetYNumber" type="number" min="-50" max="50" step="1" value="0" class="slider-number">
            </div>
          </div>
          <!-- Image adjustments: brightness and contrast -->
          <div class="control-group">
            <h3>Image Adjustments</h3>
            <label for="brightnessRange">Brightness (%)</label>
            <input id="brightnessRange" type="range" min="50" max="150" step="1" value="100">
            <input id="brightnessNumber" type="number" min="50" max="150" step="1" value="100" class="slider-number">
          </div>
          <div class="control-group">
            <label for="contrastRange">Contrast (%)</label>
            <input id="contrastRange" type="range" min="50" max="150" step="1" value="100">
            <input id="contrastNumber" type="number" min="50" max="150" step="1" value="100" class="slider-number">
          </div>
          <!-- Undo/Redo buttons -->
          <div class="control-group buttons">
            <button id="undoBtn" type="button" class="btn-secondary">Undo</button>
            <button id="redoBtn" type="button" class="btn-secondary">Redo</button>
          </div>
          <!-- Done button (submits and renders the image) -->
          <button class="btn-primary" type="button">Done</button>
        </div>
      </div>
    </div>
  </main>
  <footer>
    <p>Â© 2025 Profile Ready. All rights reserved.</p>
  </footer>
  <!-- Import Cropper.js. Note: using CDN for simplicity -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
  <!-- Module script containing page logic. The functions within app.js will recognise the new IDs and classes. -->
  <script type="module" src="app.js"></script>
</body>
</html>